package com.wrrulos.rbungee.commands;

import com.wrrulos.rbungee.RBungeeExploit;
import com.wrrulos.rbungee.utils.ChatUtil;
import net.md_5.bungee.api.CommandSender;
import net.md_5.bungee.api.connection.ProxiedPlayer;
import net.md_5.bungee.api.plugin.Command;
import java.util.UUID;

public class UUIDCommand extends Command {

    public UUIDCommand() {
        super("set-uuid");
    }

    public void execute(CommandSender sender, String[] args) {

        if (!(sender instanceof ProxiedPlayer)) {
            if (args.length == 1) {
                try {
                    RBungeeExploit.setUUID(UUID.fromString(args[0]));
                    ChatUtil.tell(sender, "&7[&cRBungee&fExploit&7] &aUUID set to " + args[0]);
                    return;

                } catch (Exception e) {
                    ChatUtil.tell(sender, "&7[&cRBungee&fExploit&7] &cEnter a valid UUID!");
                    return;
                }
            }
            ChatUtil.tell(sender, "&7[&cRBungee&fExploit&7] &fUse /set-uuid [UUID]");
            return;
        }

        ProxiedPlayer proxiedPlayer = (ProxiedPlayer) sender;

        if (args.length == 1) {
            try {
                RBungeeExploit.setUUID(UUID.fromString(args[0]));
                ChatUtil.tell(proxiedPlayer, "&7[&cRBungee&fExploit&7] &aUUID set to " + args[0]);
                return;

            } catch (Exception e) {
                ChatUtil.tell(proxiedPlayer, "&7[&cRBungee&fExploit&7] &cEnter a valid UUID!");
                return;
            }

        }
        ChatUtil.tell(proxiedPlayer, "&7[&cRBungee&fExploit&7] &fUse /set-uuid [UUID]");
    }
}
